# Nexus OMS: Enterprise Multi-Tenant E-commerce Platform

[![Python Version](https://img.shields.io/badge/python-3.12%2B-blue)](https://www.python.org/)
[![Django Version](https://img.shields.io/badge/django-5.0%2B-green)](https://www.djangoproject.com/)
[![Architecture](https://img.shields.io/badge/architecture-Clean%20%2B%20DDD-orange)](#architecture)

Nexus es una plataforma de **Order Management System (OMS)** de alto rendimiento diseÃ±ada bajo un modelo **SaaS Multi-tenant**. A diferencia de los e-commerce convencionales, Nexus separa estrictamente la lÃ³gica de negocio de la infraestructura, permitiendo gestionar mÃºltiples tiendas independientes con reglas de negocio complejas y flujos de trabajo asÃ­ncronos.

---

## ğŸ§± Â¿QuÃ© problema resuelve?

Nexus OMS es un **Order Management System multi-tenant** pensado para eâ€‘commerce y SaaS B2B, donde cada cliente (tenant) puede gestionar sus Ã³rdenes, inventario y operaciones sin mezclar datos con otros tenants.

## ğŸš€ CaracterÃ­sticas Principales (High-Level)

- **Multi-tenancy Riguroso:** Aislamiento de datos por esquema/ID mediante Middleware personalizado.
- **Core de Pedidos (OMS):** Motor de estados complejo (FSM) para la gestiÃ³n del ciclo de vida de las Ã³rdenes.
- **Motor de Promociones:** Basado en el patrÃ³n *Strategy* para aplicar descuentos dinÃ¡micos.
- **Arquitectura Orientada a Eventos (EDA):** Procesamiento de pagos y notificaciones vÃ­a Celery.
- **Observabilidad:** Logs estructurados y trazabilidad completa de cambios de estado (Audit Logs).

---

## ğŸ—ï¸ Arquitectura y Patrones

El proyecto implementa **Clean Architecture** para garantizar que el sistema sea fÃ¡cil de mantener y testear.

### Capas del Proyecto
1. **Domain:** Entidades puras y reglas de oro del negocio. Cero dependencias externas.
2. **Application:** Casos de uso (OrquestaciÃ³n). AquÃ­ reside el "quÃ© hace" el sistema.
3. **Infrastructure:** Adaptadores de base de datos (Django ORM), clientes de API y servicios externos.
4. **Interface (API):** Controladores de Django Rest Framework y Serializers.

### Patrones de DiseÃ±o Implementados
* **Repository Pattern:** Desacoplamiento total del ORM.
* **Service Layer:** LÃ³gica de orquestaciÃ³n de procesos complejos.
* **Domain Events:** ComunicaciÃ³n desacoplada entre mÃ³dulos.
* **Dependency Injection (DI):** InyecciÃ³n de dependencias para facilitar Unit Testing.

---

## ğŸ› ï¸ Stack TecnolÃ³gico

| Componente | TecnologÃ­a |
| :--- | :--- |
| **Backend** | Python 3.12+, Django 5.x, DRF |
| **Base de Datos** | PostgreSQL (JSONB support) |
| **Task Queue** | Celery + Redis |
| **Testing** | Pytest (Unit, Integration, E2E) |
| **DevOps** | Docker, Docker Compose, GitHub Actions |

---

## ğŸ“‚ Estructura del Repositorio

```text
/nexus_project
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ domain/              # Reglas de negocio (Python Puro)
â”‚   â”œâ”€â”€ application/         # Casos de uso (PlaceOrder, etc)
â”‚   â”œâ”€â”€ infrastructure/      # Adaptadores (Postgres, HTTPX Clients, Celery Tasks)
â”‚   â””â”€â”€ interfaces/          # Web (HTMX Views), API (DRF), Templates
â”‚
â”œâ”€â”€ templates/               # Fragmentos de HTML para HTMX
â”œâ”€â”€ static/                  # Tailwind CSS
â”œâ”€â”€ docker-compose.yml       # Django, Postgres, Redis, Celery Worker, Mailhog
â””â”€â”€ Makefile                 # Comandos: make test, make build, make logs
```

## ğŸ“Œ Estado actual del proyecto

Este repositorio estÃ¡ en construcciÃ³n activa. A dÃ­a de hoy:

- [x] Definido el **modelo de capas** (Domain, Application, Infrastructure, Interfaces).
- [x] Documentada la **estrategia multi-tenant** a nivel de middleware y repositorios.
- [ ] ImplementaciÃ³n completa de agregados de dominio (Order, Product, Inventory).
- [ ] API REST para Ã³rdenes, productos y clientes.
- [ ] IntegraciÃ³n con Celery para procesos asincrÃ³nicos (events/handlers).
- [ ] BaterÃ­a de tests (unitarios, integraciÃ³n, contratos) alineada con DDD.


## ğŸ“– DocumentaciÃ³n Detallada

Para comprender a fondo las decisiones tÃ©cnicas y el plan de ejecuciÃ³n, revisa los documentos en la carpeta [`docs/`](./docs/):

* [**Architecture & Design**](./docs/ARCHITECTURE.md): Diagramas de capas, flujo asÃ­ncrono y mÃ¡quina de estados.
* [**Modern Stack Strategy**](./docs/STACK.md): JustificaciÃ³n del uso de HTMX, HTTPX y arquitectura basada en eventos.
* [**Roadmap & Milestones**](./docs/ROADMAP.md): Seguimiento detallado del progreso y objetivos tÃ©cnicos.
